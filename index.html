<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ticketmaster Boleto Digital</title>
<style>
    body {
        flex-direction: column;
        align-items: center;
        background: #eef2f7;
        font-family: "Inter", sans-serif;
        padding: 30px;
        display: flex;
        justify-content: center;
    }

    .ticket-card {
        width: 300px;
        background: white;
        border-radius: 18px;
        overflow: hidden;
        box-shadow: 0px 8px 28px rgba(0,0,0,0.18);
        text-align: center;
        transition: all 0.25s ease;
        padding-bottom: 18px;
    }

    .ticket-card:hover {
        transform: translateY(-3px);
        box-shadow: 0px 14px 34px rgba(0,0,0,0.22);
    }

    .banner {
        height: 140px;
        width: 100%;
        background-size: cover;
        background-position: center;
        position: relative;
    }

    .banner::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.65) 0%, rgba(0,0,0,0.45) 35%, rgba(0,0,0,0.15) 70%, rgba(0,0,0,0.05) 100%);
        z-index: 0;
    }

    .banner > * { position: relative; z-index: 1; }

    .safetix-label-top {
        font-size: 10px;
        font-weight: 600;
        letter-spacing: 0.5px;
        color: #9ca3af;
        margin-top: 10px;
    }

    .qr-box {
        display: none;
        position: relative;
        width: 220px;
        height: 78px;
        background: white;
        border-radius: 12px;
        border: 1px solid #d1d5db;
        margin: 6px auto 16px;
        overflow: hidden;
        box-shadow: 0px 3px 10px rgba(0,0,0,0.12);
        align-items:center;
        justify-content:center;
    }

    .scan-bar {
        position:absolute;
        left:-20px;
        top:0;
        width:16px;
        height:100%;
        background: linear-gradient(90deg,
            rgba(59,130,246,0.0) 0%,
            rgba(59,130,246,0.25) 20%,
            rgba(59,130,246,0.9) 45%,
            rgba(255,255,255,1) 50%,
            rgba(59,130,246,0.9) 55%,
            rgba(59,130,246,0.25) 80%,
            rgba(59,130,246,0.0) 100%
        );
        box-shadow: 0 0 40px rgba(59,130,246,0.9), 0 0 20px rgba(59,130,246,0.7), 0 0 8px rgba(255,255,255,1);
        filter: blur(0.4px);
        animation: scanHorizontal 4s linear infinite;
        z-index:5;
    }

    @keyframes scanHorizontal {
        0% { left: -20px; }
        100% { left: 240px; }
    }

    #barcode { height: 100%; width: 100%; display: block; }

    .barcode-wrap {
        width:100%;
        display:flex;
        justify-content:center;
        align-items:center;
    }

    .safetix-warning { font-size: 11px; color: #ef4444; font-weight: 700; }
    .no-screenshot { font-size: 11px; color: #6b7280; margin-bottom: 18px; }

    .pulse { animation: pulseAnim 0.35s ease; }
    .scan-pulse { animation: scanFlash 0.4s ease; }

    @keyframes scanFlash {
        0% { box-shadow: 0 0 0 rgba(59,130,246,0); }
        50% { box-shadow: 0 0 25px rgba(59,130,246,0.9); }
        100% { box-shadow: 0 0 0 rgba(59,130,246,0); }
    }

    @keyframes pulseAnim {
        0% { transform: scale(1); filter: brightness(1); }
        50% { transform: scale(1.05); filter: brightness(1.3); }
        100% { transform: scale(1); filter: brightness(1); }
    }

    .glow-btn {
        margin-top:15px; padding:10px 18px; border:none; border-radius:10px;
        background:#2563eb; color:white; font-size:14px; font-weight:600;
        cursor:pointer; animation:pulseBtn 1.8s infinite ease-in-out; position: relative;
    }

    #showBarcodeBtn {
        background:#111;
        width:85%;
        max-width:260px;
        font-size:15px;
        padding:12px 18px;
        border-radius:12px;
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:10px;
    }


    @keyframes pulseBtn {
        0% { transform:scale(1); box-shadow:0 0 0 0 rgba(37,99,235,0.6); }
        50% { transform:scale(1.06); box-shadow:0 0 14px 6px rgba(37,99,235,0.35); }
        100% { transform:scale(1); box-shadow:0 0 0 0 rgba(37,99,235,0.6); }
    }

    .glow-btn::after {
        content:""; position:absolute; top:0; left:-100%; width:100%; height:100%;
        background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.55) 50%, transparent 100%);
        animation:shine 4.5s infinite;
    }

    @keyframes shine { 0% { left:-100%; } 60% { left:100%; } 100% { left:100%; } }
</style>
<link rel="icon" type="image/png" href="https://i.imgur.com/Eiwjdsh.png">
</head>
<body>

<div class="ticket-card">
    <div style="width:100%; text-align:left; margin-bottom:0;">
        <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; width:100%; background:rgba(0,86,179,0.85); color:white; font-weight:600; font-size:16px; padding:7px 14px; text-align:center; text-shadow:0 2px 6px rgba(0,0,0,0.85);">
            <div style="width:100%; text-align:center; font-weight:700; font-size:15px; margin-bottom:8px;">CORTESÍA BANAMEX</div>
            <div style="display:flex; width:100%; justify-content:space-between; align-items:center; gap:10px; margin-top:10px;">
                <div style="text-align:center; width:25%;"><div style="font-size:16px; font-weight:500;">SECCION</div><div style="font-size:16px; font-weight:600;">NA-16A</div></div>
                <div style="text-align:center; width:20%;"><div style="font-size:16px; font-weight:500;">FILA</div><div style="font-size:16px; font-weight:600;">8</div></div>
                <div style="text-align:center; width:30%; margin-right:20px;"><div style="font-size:16px; font-weight:500;">ASIENTO</div><div style="font-size:16px; font-weight:600;">9</div></div>
            </div>
        </div>
    </div>

    <div class="banner" style="background-image:url('https://i.imgur.com/HzjjCaa.jpeg'); position:relative; display:flex; flex-direction:column; align-items:center; justify-content:flex-end; padding:8px 0;">
        <div style="color:white; font-weight:700; font-size:17px; text-shadow:0 2px 6px rgba(0,0,0,0.8); text-align:center; margin-bottom:4px;">BTS WORLD TOUR 'ARIRANG' IN MEXICO CITY</div>
        <div style="color:white; font-weight:500; font-size:11px; text-shadow:0 2px 8px rgba(0,0,0,0.95); text-align:center;">sab, 09 de mayo de 2026 20:00 | Estadio GNP Seguros</div>
    </div>

    <div class="safetix-label-top">BOLETO DIGITAL</div>

    <button id="showBarcodeBtn" class="glow-btn" style="margin-top:10px;">
        <span style="color:white;font-weight:700;">[</span>
        <svg width="22" height="16" viewBox="0 0 44 32" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect x="1" y="1" width="4" height="30" fill="white"/>
            <rect x="8" y="1" width="2" height="30" fill="white"/>
            <rect x="13" y="1" width="5" height="30" fill="white"/>
            <rect x="21" y="1" width="3" height="30" fill="white"/>
            <rect x="27" y="1" width="2" height="30" fill="white"/>
            <rect x="32" y="1" width="6" height="30" fill="white"/>
            <rect x="41" y="1" width="2" height="30" fill="white"/>
        </svg>
        <span style="color:white;font-weight:700;">]</span>
        Ver entradas
    </button>

    <div class="qr-box">
        <div class="scan-bar"></div>
        <div class="barcode-wrap">
            <svg id="barcode"></svg>
        </div>
    </div>

    <div class="safetix-warning">SafeTix™</div>
    <div class="no-screenshot">No se permite ingresar con Captura de pantalla</div>

    <div style="font-size:11px; color:#374151; margin-top:15px; text-align:center; line-height:1.4; padding:0 10px;">
        <strong>Este Boleto es tu entrada, guárdalo en tu pantalla de inicio.</strong><br>
        Asegúrate de tener buena conexión a internet.<br>
        Siempre puedes volver a visualizar este boleto escaneando el código enviado a tu correo electrónico.
    </div>

    <button id="addButton" class="glow-btn">Añadir a Ticketmaster</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
<script>
    const barcodeEl = document.getElementById("barcode");

    function randomBase13() {
        let s = "";
        for (let i = 0; i < 13; i++) s += Math.floor(Math.random() * 10);
        return s;
    }

    function calcCheckDigit(gtin13) {
        let sum = 0;
        for (let i = 0; i < gtin13.length; i++) {
            const n = parseInt(gtin13[i]);
            sum += (i % 2 === 0) ? n * 3 : n;
        }
        return (10 - (sum % 10)) % 10;
    }

    function generateITF14() {
        const base = randomBase13();
        const check = calcCheckDigit(base);
        return base + check;
    }

    function renderBarcode() {
        const code = generateITF14();
        JsBarcode(barcodeEl, code, {
            format: "ITF14",
            displayValue: false,
            margin: 0,
            width: 2,
            height: 74
        });

        barcodeEl.classList.remove("pulse");
        void barcodeEl.offsetWidth;
        barcodeEl.classList.add("pulse");

        const box = document.querySelector('.qr-box');
        box.classList.remove('scan-pulse');
        void box.offsetWidth;
        box.classList.add('scan-pulse');
    }

    let barcodeInterval = null;

    const showBtn = document.getElementById('showBarcodeBtn');
    const qrBox = document.querySelector('.qr-box');

    showBtn.addEventListener('click', () => {
        qrBox.style.display = 'flex';
        showBtn.style.display = 'none';
        renderBarcode();
        barcodeInterval = setInterval(renderBarcode, 4000);
    });

    // Ocultar código al tocar el área del código de barras
    qrBox.addEventListener('click', () => {
        qrBox.style.display = 'none';
        showBtn.style.display = 'inline-flex';
        clearInterval(barcodeInterval);
    });

    const addBtn = document.getElementById('addButton');
    addBtn.addEventListener('click', () => {
        const modal = document.createElement('div');
        modal.style.position = 'fixed';
        modal.style.top = '0';
        modal.style.left = '0';
        modal.style.width = '100%';
        modal.style.height = '100%';
        modal.style.background = 'rgba(0,0,0,0.55)';
        modal.style.display = 'flex';
        modal.style.justifyContent = 'center';
        modal.style.alignItems = 'center';
        modal.style.zIndex = '9999';

        modal.innerHTML = `
            <div style="background:white;width:330px;border-radius:12px;padding:25px;text-align:center;font-family:Inter;box-shadow:0 8px 30px rgba(0,0,0,0.25);border-top:4px solid #0072ce;">
                <h2 style="font-size:20px;font-weight:700;color:#1a1a1a;">Error al añadir boleto</h2>
                <p style="font-size:14px;color:#444;margin-top:10px;">Este Boleto es una Cortesía, es para un solo Uso, por seguridad y evitar reventas no se permite añadir a Ticketmaster.</p>
                <div style="margin-top:15px;font-size:13px;color:#777;">Código de error: <strong>TM-403-WAIT72H</strong></div>
                <p style="font-size:12px;color:#666;margin-top:20px;">Serás redirigido automáticamente...</p>
            </div>
        `;

        document.body.appendChild(modal);
        setTimeout(() => { window.location.href = 'https://www.ticketmaster.com.mx/bts-boletos/artist/2110227'; }, 10000);
    });
</script>
</body>
</html>


